<div class="content">
  <div class="container-fluid">


    <div *ngIf="properties" class="row">

      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header card-header-rose card-header-icon">
            <div class="card-icon">
              <i class="material-icons">equalizer</i>
            </div>
            <p class="card-category">Total Properties:</p>
            <h3 class="card-title">{{properties.length}}</h3>
          </div>
          <div class="card-footer">
            <div class="stats">
              <a [routerLink]="['/properties/new']">
                <i class="material-icons">home</i> Add more properties</a>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header card-header-warning card-header-icon">
            <div class="card-icon">
              <i class="material-icons">stars</i>
            </div>
            <p class="card-category">Elite &nbsp;&nbsp;&nbsp; Preffered &nbsp;&nbsp;&nbsp; Standard </p>
            <h3 class="card-title">{{eliteTierCount}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{prefferedTierCount}} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{standardTierCount}}</h3>
          </div>
          <div class="card-footer">
            <div class="stats">
              <i class="material-icons text-danger">warning</i>
              <a>Coming soon...</a>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header card-header-success card-header-icon">
            <div class="card-icon">
              <i class="material-icons">weekend</i>
            </div>
            <p class="card-category">King &nbsp;&nbsp;&nbsp; Queen &nbsp;&nbsp;&nbsp; Twin</p>
            <h3 class="card-title">{{kingCount}} &nbsp;&nbsp;&nbsp;&nbsp;  {{queenCount}} &nbsp;&nbsp;&nbsp;&nbsp; {{twinCount}}</h3>
          </div>
          <div class="card-footer">
            <div class="stats">
              <i class="material-icons">date_range</i> Coming soon...
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header card-header-info card-header-icon">
            <div class="card-icon">
              <i class="material-icons">reorder</i>
            </div>
            <p class="card-category">Coming soon</p>
            <h3 class="card-title">?</h3>
          </div>
          <div class="card-footer">
            <div class="stats">
              <i class="material-icons">update</i> Coming soon...
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header card-header-primary card-header-icon">
            <div class="card-icon">
              <i class="material-icons">assignment</i>
            </div>
            <h4 class="card-title">Properties list</h4>
          </div>
          <div class="card-body">
            <div class="toolbar">
            </div>
            <div class="card text-center" *ngIf="properties == undefined">There are no properties...</div>
            <div class="material-datatables">
              <table id="datatables" class="table table-striped table-no-bordered table-hover" cellspacing="0" width="100%" style="width:100%">
                <thead>
                  <tr>
                    <th>Name:</th>
                    <th>Building:</th>
                    <th>Unit:</th>
                    <th>Tier:</th>
                    <th>Floor plan
                      <th>
                        <th class="text-center">Bathrooms:</th>
                        <th>Room (bed size):</th>
                        <th>Effective Date:</th>
                        <th class="disabled-sorting text-right">Actions:</th>
                  </tr>
                </thead>
                <tfoot>
                  <tr>
                    <th style="width: 10%">Name:</th>
                    <th style="width: 10%">Building:</th>
                    <th style="width: 10%">Unit:</th>
                    <th style="width: 10%">Tier:</th>
                    <th style="width: 10%">Floor plan:
                      <th>
                        <th class="text-center" style="width: 10%">Bathrooms:</th>
                        <th style="width: 20%">Room (bed size):</th>
                        <th style="width: 10%">Effective Date:</th>
                        <th style="width: 10%" class="text-right">Actions:</th>
                  </tr>
                </tfoot>
                <tbody *ngFor="let property of properties">
                  <tr>
                    <td>
                      <a href="#" [routerLink]="['/properties/', property._id]">{{property.name}}</a>
                    </td>
                    <td>
                      <strong> {{property.building}}</strong>
                    </td>
                    <td>{{property.unit}}</td>
                    <td>{{property.tier}}</td>
                    <td>{{property.floor_plan}} Bedroom
                      <td>
                        <td class="text-center">{{property.bathrooms}}</td>
                        <td>
                          <span *ngFor="let bedroom of property.bedrooms">
                            <strong>{{bedroom.bedroom_type}}</strong>:
                            <span *ngIf="bedroom.bedsize1.length > 0">({{bedroom.bedsize1}}</span>
                            <span *ngIf="bedroom.bedsize2.length > 0">{{',' + bedroom.bedsize2}}</span>
                            <span *ngIf="bedroom.bedsize3.length > 0">{{',' + bedroom.bedsize3}} </span>
                            <span *ngIf="bedroom.bedsize4.length > 0">{{',' + bedroom.bedsize4}} </span>)
                            <br>

                          </span>
                        </td>
                        <td>{{property.effective_date | date: 'mediumDate'}}</td>
                        <td class="text-right">
                          <a href="#" [routerLink]="['/properties/', property._id]" class="btn btn-link btn-warning btn-just-icon edit">
                            <i class="material-icons">mode_edit</i>
                            <!-- <i class="fas fa-pen-square"></i> -->
                          </a>
                          <a (click)="deleteThisProperty(property._id)" class="btn btn-link btn-danger btn-just-icon remove">
                            <i class="material-icons">close</i>
                          </a>
                        </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <!-- end content-->
        </div>
        <!--  end card  -->
      </div>
      <!-- end col-md-12 -->
    </div>
    <!-- end row -->
  </div>
</div>